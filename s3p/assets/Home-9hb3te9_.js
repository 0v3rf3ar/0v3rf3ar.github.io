import{_ as $,r as g,c as b,o as B,a as M,w as N,b as o,d as r,e as l,f as V,F as h,g as k,u as D,h as F,i as H,j as a,k as y,l as x,m as L,t as w,n as S}from"./index-m6mHUxSv.js";import{_ as T}from"./blackhole-DhRAg8XI.js";const j={key:1,class:"container mt-4"},E={class:"row gy-4"},z={class:"card h-100"},I=["src","alt"],R={class:"card-body text-center"},W={key:0,class:"pagination-bar"},q=["disabled"],A=["onClick"],G=["disabled"],c=12,J={__name:"Home",setup(K){const C=F(),i=g([]),d=g(!1),n=g(1),u=b(()=>Math.ceil(i.value.length/c)),P=b(()=>{const e=(n.value-1)*c;return i.value.slice(e,e+c)});function v(e){e>=1&&e<=u.value&&(n.value=e,window.scrollTo({top:0,behavior:"smooth"}))}function m(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function p(){D({title:"S3P | Personal Blog",meta:[{name:"description",content:"Welcome to my personal blog homepage"},{name:"keywords",content:"blog, personal, ctf, security, hacking"},{name:"author",content:"s3p"}]})}return B(async()=>{p();try{const e=await M.get("https://0v3rf3ar.github.io/s3p/api/posts");i.value=e.data,d.value=!1}catch(e){console.error("Failed to fetch posts:",e),d.value=!0}}),N(()=>C.fullPath,()=>{p()}),(e,t)=>{const _=H("router-link");return a(),o("div",null,[d.value?(a(),o("div",{key:0,class:"loading-container",onContextmenu:t[1]||(t[1]=r(()=>{},["prevent"]))},[l("img",{src:T,alt:"Loading...",draggable:"false",onDragstart:t[0]||(t[0]=r(()=>{},["prevent"])),class:"loading-img"},null,32)],32)):(a(),o("div",j,[l("div",E,[(a(!0),o(h,null,k(P.value,(s,f)=>(a(),o("div",{key:f,class:"col-12 col-sm-6 col-lg-4"},[l("div",z,[y(_,{to:`/${m(s.title)}`,tabindex:"0"},{default:x(()=>[l("img",{src:s.card,alt:s.title,draggable:"false",onContextmenu:t[2]||(t[2]=r(()=>{},["prevent"])),onDragstart:t[3]||(t[3]=r(()=>{},["prevent"])),onSelectstart:t[4]||(t[4]=r(()=>{},["prevent"])),class:"card-img-top",style:{"object-fit":"cover",height:"220px"}},null,40,I)]),_:2},1032,["to"]),l("div",R,[y(_,{to:`/${m(s.title)}`,class:"post-title",tabindex:"0"},{default:x(()=>[L(w(s.title),1)]),_:2},1032,["to"])])])]))),128))]),i.value.length>c?(a(),o("div",W,[l("button",{class:"page-btn",disabled:n.value===1,onClick:t[5]||(t[5]=s=>v(n.value-1))}," ‹ ",8,q),(a(!0),o(h,null,k(u.value,s=>(a(),o("button",{key:s,onClick:f=>v(s),class:S(["page-btn",{active:n.value===s}])},w(s),11,A))),128)),l("button",{class:"page-btn",disabled:n.value===u.value,onClick:t[6]||(t[6]=s=>v(n.value+1))}," › ",8,G)])):V("",!0)]))])}}},U=$(J,[["__scopeId","data-v-3dc954e2"]]);export{U as default};
